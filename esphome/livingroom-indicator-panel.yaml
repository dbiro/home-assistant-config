# -----------------------------
# Define substitutions
# -----------------------------
substitutions:
  esphome_node_name: livingroom-indicator-panel
  esphome_node_friendly_name: Livingroom indicator panel

# -----------------------------
# Include required packages
# -----------------------------
packages:
  device_base: !include packages/core/device-base.yaml
  wifi: !include packages/core/wifi.yaml
  sensecap_indicator: !include packages/hardware/sensecap-indicator-touchscreen.yaml
  homeassistant: !include packages/lvgl/homeassistant.yaml
  lvgl_fonts: !include packages/lvgl/fonts.yaml
  lvgl_colors: !include packages/lvgl/colors.yaml
  lvgl: !include packages/lvgl/control-panel.yaml

#-------------------------------------------
# Ssetup internal button triggers
#-------------------------------------------
binary_sensor:
  - id: !extend indicator_button
    on_press:
      then:
        - if:
            condition: lvgl.is_paused
            then:
              - lvgl.resume
              - lvgl.widget.redraw
              - delay: 0.5s
              - light.turn_on: display_backlight
            else:
              - light.turn_off: display_backlight
              - delay: 1s
              - lvgl.pause:
                  show_snow: true
